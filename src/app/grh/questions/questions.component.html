<section *ngIf="!selectMode" class="jumbotron text-center">
    <div class="container">
        <h1 class="jumbotron-heading">Video categories</h1>
        <p class="lead text-muted mb-0">Le Lorem Ipsum est simplement du faux texte employé dans la composition et la
            mise en page avant impression. Le Lorem Ipsum est le faux texte standard de l'imprimerie depuis les années
            1500, quand un peintre anonyme assembla ensemble des morceaux de texte pour réaliser un livre spécimen de
            polices de texte...</p>
    </div>
</section>
<!-- <div class="container">
    <div class="row">
        <div class="col">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  
                    <li class="breadcrumb-item"><a href="category.html">Category</a></li>
                   
                </ol>
            </nav>
        </div>
    </div>
</div> -->
<div class="container">

    <div class="row ">
        <div class="col-12 col-sm-12 col-md-3 ">
            <div class="card bg-light mb-3">
                <div class="card-header bg-primary text-white text-uppercase"><i class="fa fa-list"></i> Categories
                </div>
                <select class="form-control category_block" 
                [size]="this.categories.length>12?12:this.categories.length">
                    <option class="form-control" value={{category.idCategorie}} *ngFor="let category of categories"
                        (click)="catSelected(category.idCategorie,category.libelle)">{{category.libelle}}</option>

                </select>
            </div>
            <div class="card bg-light mb-3 ">
                <!-- <div class="card-header ">
                    <button class="btn btn-success w-100 mb-2">Add category</button>
                    <input placeholder="category name" class="form-control">

                </div> -->
                <div class="card-header">
                    <button 
                    (click)="addQuestion()"
                    class="btn btn-danger w-100"> add question</button>
                </div>

            </div>
        </div>
        <div class="col">


            <app-spinner *ngIf="loading"></app-spinner>
            <div class="text-center"> <strong>Questions of :{{actualCategory}}</strong></div>
            <div *ngIf="!loading" class="row">
                <div *ngFor="let question of questions" 
                [ngClass]="{'disabled-field':questionAllreadySelected(question.idQuestion)}"
                class="col-12  col-md-6 col-lg-4">
                    <div class="card" >
                        <video class="w-100" src='http://localhost:8080/watch/{{question.idQuestion}}' controls></video>
                        <div class="card-body">
                            <h4 class="card-title"><a href="product.html" title="View Product">{{question.titre}}</a>
                            </h4>
                            <p class="card-text">{{question.description}} <br>
                                <strong>Duréé de réponse :</strong> {{question.durationResponse}} min
                            </p>
                            <div class="row">
                                <div class="col">
                                    <button *ngIf="selectMode" (click)="onSelectVideo(question.idQuestion)"
                                        class="btn btn-danger btn-block">select</button>
                                    <button *ngIf="!selectMode" data-toggle="modal" data-target="#exampleModal" (click)="selectQuestion(question.idQuestion)" class="btn btn-danger btn-block">delete</button>
                                </div>
                                <div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="!loading &&pages.length>1" class="col-12">
                <nav aria-label="...">
                    <ul class="pagination" style="display: flex;justify-content: center;">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1">Previous</a>
                        </li>
                        <li class="page-item" *ngFor="let page of pages"><a class="page-link" href="#">{{page}}</a></li>

                        <li class="page-item">
                            <a class="page-link" href="#">Next</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">delete annonce</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" (click)="deleteQuestionConfirmed()"data-dismiss="modal" class="btn btn-primary">Confirm</button>
        </div>
        
      </div>
    </div>
  </div>